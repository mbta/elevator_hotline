{
  "modules": [
    {
      "id": "6c745c27-6c4d-4eb1-87fa-6986c7e785b7",
      "type": "SetLoggingBehavior",
      "branches": [
        {
          "condition": "Success",
          "transition": "04c5087c-7ea7-4ce2-99af-e4e3cce16c09"
        }
      ],
      "parameters": [
        {
          "name": "LoggingBehavior",
          "value": "Enable"
        }
      ],
      "metadata": {
        "position": {
          "x": 141,
          "y": 18
        }
      }
    },
    {
      "id": "04c5087c-7ea7-4ce2-99af-e4e3cce16c09",
      "type": "InvokeExternalResource",
      "branches": [
        {
          "condition": "Success",
          "transition": "88b8dfd5-2a0c-48b9-9004-781705cdd951"
        },
        {
          "condition": "Error",
          "transition": "a7e9ad86-446d-4297-bee5-dad34db002a5"
        }
      ],
      "parameters": [
        {
          "name": "FunctionArn",
          "value": "arn:aws:lambda:us-east-1:434035161053:function:mbta-elevator-hotline",
          "namespace": null
        },
        {
          "name": "TimeLimit",
          "value": "3"
        }
      ],
      "metadata": {
        "position": {
          "x": 42,
          "y": 185
        },
        "dynamicMetadata": {
        },
        "useDynamic": false
      },
      "target": "Lambda"
    },
    {
      "id": "88b8dfd5-2a0c-48b9-9004-781705cdd951",
      "type": "CheckAttribute",
      "branches": [
        {
          "condition": "Evaluate",
          "conditionType": "Equals",
          "conditionValue": "200",
          "transition": "7ec8cd24-a8a2-44bf-a130-d0d9e33ee010"
        },
        {
          "condition": "NoMatch",
          "transition": "a7e9ad86-446d-4297-bee5-dad34db002a5"
        }
      ],
      "parameters": [
        {
          "name": "Attribute",
          "value": "status"
        },
        {
          "name": "Namespace",
          "value": "External"
        }
      ],
      "metadata": {
        "position": {
          "x": 420,
          "y": 28
        },
        "conditionMetadata": [
          {
            "id": "1295b6ff-6444-4e32-852b-a57e72652f4c",
            "operator": {
              "name": "Equals",
              "value": "Equals",
              "shortDisplay": "="
            },
            "value": "200"
          }
        ]
      }
    },
    {
      "id": "a7e9ad86-446d-4297-bee5-dad34db002a5",
      "type": "PlayPrompt",
      "branches": [
        {
          "condition": "Success",
          "transition": "b07e1f8f-a47b-4636-abe9-5d0933c28abd"
        }
      ],
      "parameters": [
        {
          "name": "Text",
          "value": "Hello, you have reached the MBTA’s elevator and escalator out-of-service update line. \n\nWe are currently experiencing technical difficulties please call back and try again.",
          "namespace": null
        },
        {
          "name": "TextToSpeechType",
          "value": "text"
        }
      ],
      "metadata": {
        "position": {
          "x": 448,
          "y": 253
        },
        "useDynamic": false
      }
    },
    {
      "id": "7ec8cd24-a8a2-44bf-a130-d0d9e33ee010",
      "type": "StoreUserInput",
      "branches": [
        {
          "condition": "Success",
          "transition": "7a68c1c0-f93e-4322-afcb-a3ac4057f254"
        },
        {
          "condition": "Error",
          "transition": "51aed40c-bdb7-4046-9022-df97d8f918a7"
        }
      ],
      "parameters": [
        {
          "name": "Text",
          "value": "Hello, you have reached the MBTA’s elevator and escalator out-of-service update line. his recording is updated in real time.\n\nFor outages affecting the red line, press one.\nFor outages affecting the orange line, press two.\nFor outages affecting the green line, press three.\nFor outages affecting the blue line, press four.\nFor outages affecting the silver line, press five.\nFor outages affecting the commuter rail, press six.\nto return to the main menu at any time, press 0",
          "namespace": null
        },
        {
          "name": "TextToSpeechType",
          "value": "text"
        },
        {
          "name": "CustomerInputType",
          "value": "Custom"
        },
        {
          "name": "Timeout",
          "value": "6"
        },
        {
          "name": "MaxDigits",
          "value": 1
        },
        {
          "name": "EncryptEntry",
          "value": false
        },
        {
          "name": "DisableCancel",
          "value": false
        }
      ],
      "metadata": {
        "position": {
          "x": 681,
          "y": 25
        },
        "useDynamic": false,
        "useDynamicForEncryptionKeys": true,
        "useDynamicForTerminatorDigits": false,
        "countryCodePrefix": "+1"
      }
    },
    {
      "id": "51aed40c-bdb7-4046-9022-df97d8f918a7",
      "type": "StoreUserInput",
      "branches": [
        {
          "condition": "Success",
          "transition": "7a68c1c0-f93e-4322-afcb-a3ac4057f254"
        },
        {
          "condition": "Error",
          "transition": "025df89c-5036-4627-b7a0-0ba3e999b8c2"
        }
      ],
      "parameters": [
        {
          "name": "Text",
          "value": "For outages affecting the red line, press one.\nFor outages affecting the orange line, press two.\nFor outages affecting the green line, press three.\nFor outages affecting the blue line, press four.\nFor outages affecting the silver line, press five.\nFor outages affecting the commuter rail, press six.\nto return to the main menu at any time, press 0",
          "namespace": null
        },
        {
          "name": "TextToSpeechType",
          "value": "text"
        },
        {
          "name": "CustomerInputType",
          "value": "Custom"
        },
        {
          "name": "Timeout",
          "value": "6"
        },
        {
          "name": "MaxDigits",
          "value": 1
        },
        {
          "name": "EncryptEntry",
          "value": false
        },
        {
          "name": "DisableCancel",
          "value": false
        }
      ],
      "metadata": {
        "position": {
          "x": 763,
          "y": 969
        },
        "useDynamic": false,
        "useDynamicForEncryptionKeys": true,
        "useDynamicForTerminatorDigits": false,
        "countryCodePrefix": "+1"
      }
    },
    {
      "id": "b07e1f8f-a47b-4636-abe9-5d0933c28abd",
      "type": "PlayPrompt",
      "branches": [
        {
          "condition": "Success",
          "transition": "52e502c3-221e-4fad-a4db-9892481f2116"
        }
      ],
      "parameters": [
        {
          "name": "Text",
          "value": "Thank you for calling. Goodbye.",
          "namespace": null
        },
        {
          "name": "TextToSpeechType",
          "value": "text"
        }
      ],
      "metadata": {
        "position": {
          "x": 312,
          "y": 457
        },
        "useDynamic": false
      }
    },
    {
      "id": "52e502c3-221e-4fad-a4db-9892481f2116",
      "type": "Disconnect",
      "branches": [],
      "parameters": [],
      "metadata": {
        "position": {
          "x": 511,
          "y": 426
        }
      }
    },
    {
      "id": "93ec5f16-a5cb-49f5-9f1d-fcff0642b856",
      "type": "GetUserInput",
      "branches": [
        {
          "condition": "Timeout",
          "transition": "025df89c-5036-4627-b7a0-0ba3e999b8c2"
        },
        {
          "condition": "NoMatch",
          "transition": "025df89c-5036-4627-b7a0-0ba3e999b8c2"
        },
        {
          "condition": "Error",
          "transition": "025df89c-5036-4627-b7a0-0ba3e999b8c2"
        }
      ],
      "parameters": [
        {
          "name": "Text",
          "value": "silver",
          "namespace": "External"
        },
        {
          "name": "TextToSpeechType",
          "value": "ssml"
        },
        {
          "name": "Timeout",
          "value": "1"
        },
        {
          "name": "MaxDigits",
          "value": "1"
        }
      ],
      "metadata": {
        "position": {
          "x": 1902,
          "y": 403
        },
        "conditionMetadata": [],
        "useDynamic": true
      },
      "target": "Digits"
    },
    {
      "id": "ff737200-4608-467e-95e6-6d2d5a3f116d",
      "type": "GetUserInput",
      "branches": [
        {
          "condition": "Timeout",
          "transition": "025df89c-5036-4627-b7a0-0ba3e999b8c2"
        },
        {
          "condition": "NoMatch",
          "transition": "025df89c-5036-4627-b7a0-0ba3e999b8c2"
        },
        {
          "condition": "Error",
          "transition": "025df89c-5036-4627-b7a0-0ba3e999b8c2"
        }
      ],
      "parameters": [
        {
          "name": "Text",
          "value": "commuter",
          "namespace": "External"
        },
        {
          "name": "TextToSpeechType",
          "value": "ssml"
        },
        {
          "name": "Timeout",
          "value": "1"
        },
        {
          "name": "MaxDigits",
          "value": "1"
        }
      ],
      "metadata": {
        "position": {
          "x": 1864,
          "y": 670
        },
        "conditionMetadata": [],
        "useDynamic": true
      },
      "target": "Digits"
    },
    {
      "id": "b8839179-7ddc-4e4c-befc-f2b356445738",
      "type": "GetUserInput",
      "branches": [
        {
          "condition": "Timeout",
          "transition": "025df89c-5036-4627-b7a0-0ba3e999b8c2"
        },
        {
          "condition": "NoMatch",
          "transition": "025df89c-5036-4627-b7a0-0ba3e999b8c2"
        },
        {
          "condition": "Error",
          "transition": "025df89c-5036-4627-b7a0-0ba3e999b8c2"
        }
      ],
      "parameters": [
        {
          "name": "Text",
          "value": "orange",
          "namespace": "External"
        },
        {
          "name": "TextToSpeechType",
          "value": "ssml"
        },
        {
          "name": "Timeout",
          "value": "1"
        },
        {
          "name": "MaxDigits",
          "value": "1"
        }
      ],
      "metadata": {
        "position": {
          "x": 2219,
          "y": 266
        },
        "conditionMetadata": [],
        "useDynamic": true
      },
      "target": "Digits"
    },
    {
      "id": "26e30010-50fb-42df-a6b2-ea51b62c38a5",
      "type": "GetUserInput",
      "branches": [
        {
          "condition": "Timeout",
          "transition": "025df89c-5036-4627-b7a0-0ba3e999b8c2"
        },
        {
          "condition": "NoMatch",
          "transition": "025df89c-5036-4627-b7a0-0ba3e999b8c2"
        },
        {
          "condition": "Error",
          "transition": "025df89c-5036-4627-b7a0-0ba3e999b8c2"
        }
      ],
      "parameters": [
        {
          "name": "Text",
          "value": "red",
          "namespace": "External"
        },
        {
          "name": "TextToSpeechType",
          "value": "ssml"
        },
        {
          "name": "Timeout",
          "value": "1"
        },
        {
          "name": "MaxDigits",
          "value": "1"
        }
      ],
      "metadata": {
        "position": {
          "x": 2225,
          "y": 40
        },
        "conditionMetadata": [],
        "useDynamic": true
      },
      "target": "Digits"
    },
    {
      "id": "33b1deb0-2bec-40b5-b5e3-502b292e94ba",
      "type": "GetUserInput",
      "branches": [
        {
          "condition": "Timeout",
          "transition": "025df89c-5036-4627-b7a0-0ba3e999b8c2"
        },
        {
          "condition": "NoMatch",
          "transition": "025df89c-5036-4627-b7a0-0ba3e999b8c2"
        },
        {
          "condition": "Error",
          "transition": "025df89c-5036-4627-b7a0-0ba3e999b8c2"
        }
      ],
      "parameters": [
        {
          "name": "Text",
          "value": "green",
          "namespace": "External"
        },
        {
          "name": "TextToSpeechType",
          "value": "ssml"
        },
        {
          "name": "Timeout",
          "value": "1"
        },
        {
          "name": "MaxDigits",
          "value": "1"
        }
      ],
      "metadata": {
        "position": {
          "x": 2199,
          "y": 495
        },
        "conditionMetadata": [],
        "useDynamic": true
      },
      "target": "Digits"
    },
    {
      "id": "43bba9b9-fddb-4fb7-acb2-0575ac413964",
      "type": "GetUserInput",
      "branches": [
        {
          "condition": "Timeout",
          "transition": "025df89c-5036-4627-b7a0-0ba3e999b8c2"
        },
        {
          "condition": "NoMatch",
          "transition": "025df89c-5036-4627-b7a0-0ba3e999b8c2"
        },
        {
          "condition": "Error",
          "transition": "025df89c-5036-4627-b7a0-0ba3e999b8c2"
        }
      ],
      "parameters": [
        {
          "name": "Text",
          "value": "blue",
          "namespace": "External"
        },
        {
          "name": "TextToSpeechType",
          "value": "ssml"
        },
        {
          "name": "Timeout",
          "value": "1"
        },
        {
          "name": "MaxDigits",
          "value": "1"
        }
      ],
      "metadata": {
        "position": {
          "x": 2190,
          "y": 721
        },
        "conditionMetadata": [],
        "useDynamic": true
      },
      "target": "Digits"
    },
    {
      "id": "864985be-4aa7-4c5f-ba40-638da53f09d0",
      "type": "CheckAttribute",
      "branches": [
        {
          "condition": "Evaluate",
          "conditionType": "Equals",
          "conditionValue": "1",
          "transition": "26e30010-50fb-42df-a6b2-ea51b62c38a5"
        },
        {
          "condition": "Evaluate",
          "conditionType": "Equals",
          "conditionValue": "2",
          "transition": "b8839179-7ddc-4e4c-befc-f2b356445738"
        },
        {
          "condition": "Evaluate",
          "conditionType": "Equals",
          "conditionValue": "3",
          "transition": "33b1deb0-2bec-40b5-b5e3-502b292e94ba"
        },
        {
          "condition": "Evaluate",
          "conditionType": "Equals",
          "conditionValue": "4",
          "transition": "43bba9b9-fddb-4fb7-acb2-0575ac413964"
        },
        {
          "condition": "Evaluate",
          "conditionType": "Equals",
          "conditionValue": "5",
          "transition": "93ec5f16-a5cb-49f5-9f1d-fcff0642b856"
        },
        {
          "condition": "Evaluate",
          "conditionType": "Equals",
          "conditionValue": "6",
          "transition": "ff737200-4608-467e-95e6-6d2d5a3f116d"
        },
        {
          "condition": "NoMatch",
          "transition": "025df89c-5036-4627-b7a0-0ba3e999b8c2"
        }
      ],
      "parameters": [
        {
          "name": "Attribute",
          "value": "line_choice"
        },
        {
          "name": "Namespace",
          "value": "User Defined"
        }
      ],
      "metadata": {
        "position": {
          "x": 1567,
          "y": 18
        },
        "conditionMetadata": [
          {
            "id": "0364877e-a7e1-4c5f-bd90-fd0449ca6909",
            "operator": {
              "name": "Equals",
              "value": "Equals",
              "shortDisplay": "="
            },
            "value": "1"
          },
          {
            "id": "16c6a21e-efe9-4bc6-af1e-745bff51087b",
            "operator": {
              "name": "Equals",
              "value": "Equals",
              "shortDisplay": "="
            },
            "value": "2"
          },
          {
            "id": "e29ed734-d498-4140-98fb-f587d74fba43",
            "operator": {
              "name": "Equals",
              "value": "Equals",
              "shortDisplay": "="
            },
            "value": "3"
          },
          {
            "id": "dd95b5a1-461e-4edc-9809-837a7622789e",
            "operator": {
              "name": "Equals",
              "value": "Equals",
              "shortDisplay": "="
            },
            "value": "4"
          },
          {
            "id": "32956ecf-bce4-4b16-84b7-7ddf45725137",
            "operator": {
              "name": "Equals",
              "value": "Equals",
              "shortDisplay": "="
            },
            "value": "5"
          },
          {
            "id": "253fc990-f70a-43ca-b3b1-2465d98141f3",
            "operator": {
              "name": "Equals",
              "value": "Equals",
              "shortDisplay": "="
            },
            "value": "6"
          }
        ]
      }
    },
    {
      "id": "025df89c-5036-4627-b7a0-0ba3e999b8c2",
      "type": "Loop",
      "branches": [
        {
          "condition": "Looping",
          "transition": "51aed40c-bdb7-4046-9022-df97d8f918a7"
        },
        {
          "condition": "Complete",
          "transition": "b07e1f8f-a47b-4636-abe9-5d0933c28abd"
        }
      ],
      "parameters": [
        {
          "name": "LoopCount",
          "value": "10"
        }
      ],
      "metadata": {
        "position": {
          "x": 2358,
          "y": 1054
        },
        "useDynamic": false
      }
    },
    {
      "id": "7a68c1c0-f93e-4322-afcb-a3ac4057f254",
      "type": "SetAttributes",
      "branches": [
        {
          "condition": "Success",
          "transition": "a93e74a8-355c-4b7c-9e86-a69f889095ce"
        },
        {
          "condition": "Error",
          "transition": "025df89c-5036-4627-b7a0-0ba3e999b8c2"
        }
      ],
      "parameters": [
        {
          "name": "Attribute",
          "value": "Stored customer input",
          "key": "line_choice",
          "namespace": "System"
        }
      ],
      "metadata": {
        "position": {
          "x": 984,
          "y": 47
        }
      }
    },
    {
      "id": "a93e74a8-355c-4b7c-9e86-a69f889095ce",
      "type": "SetAttributes",
      "branches": [
        {
          "condition": "Success",
          "transition": "864985be-4aa7-4c5f-ba40-638da53f09d0"
        },
        {
          "condition": "Error",
          "transition": "025df89c-5036-4627-b7a0-0ba3e999b8c2"
        }
      ],
      "parameters": [
        {
          "name": "Attribute",
          "value": "$.Attributes.line_choice_log $.Attributes.line_choice",
          "key": "line_choice_log",
          "namespace": "User Defined"
        }
      ],
      "metadata": {
        "position": {
          "x": 1261,
          "y": 68
        }
      }
    }
  ],
  "version": "1",
  "type": "contactFlow",
  "start": "6c745c27-6c4d-4eb1-87fa-6986c7e785b7",
  "metadata": {
    "entryPointPosition": {
      "x": 15.500339628716162,
      "y": 15.5
    },
    "snapToGrid": false,
    "name": "MBTA Elevator Hotline",
    "description": null,
    "type": "contactFlow",
    "status": "published",
    "hash": "f74a0779ec943f948beafada8aac70b1120c365bb718c0415b4652bc33a6ea41"
  }
}

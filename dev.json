{"modules":[{"id":"6c745c27-6c4d-4eb1-87fa-6986c7e785b7","type":"SetLoggingBehavior","branches":[{"condition":"Success","transition":"378e525e-29ef-471b-b0a1-14b69e61f41e"}],"parameters":[{"name":"LoggingBehavior","value":"Enable"}],"metadata":{"position":{"x":141,"y":29.59805800546067}}},{"id":"26e30010-50fb-42df-a6b2-ea51b62c38a5","type":"GetUserInput","branches":[{"condition":"Timeout","transition":"025df89c-5036-4627-b7a0-0ba3e999b8c2"},{"condition":"NoMatch","transition":"025df89c-5036-4627-b7a0-0ba3e999b8c2"},{"condition":"Error","transition":"025df89c-5036-4627-b7a0-0ba3e999b8c2"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"9","transition":"e3ef239d-ad61-463e-bbd8-b14c34362a88"}],"parameters":[{"name":"Text","value":"red","namespace":"External"},{"name":"TextToSpeechType","value":"text"},{"name":"Timeout","value":"1"},{"name":"MaxDigits","value":"1"}],"metadata":{"position":{"x":2223,"y":23.59805800546067},"conditionMetadata":[{"id":"b76fecdb-b23c-4f58-8b66-2bc2d4b97d3b","value":"9"}],"useDynamic":true},"target":"Digits"},{"id":"b8839179-7ddc-4e4c-befc-f2b356445738","type":"GetUserInput","branches":[{"condition":"Timeout","transition":"025df89c-5036-4627-b7a0-0ba3e999b8c2"},{"condition":"NoMatch","transition":"025df89c-5036-4627-b7a0-0ba3e999b8c2"},{"condition":"Error","transition":"025df89c-5036-4627-b7a0-0ba3e999b8c2"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"9","transition":"e3ef239d-ad61-463e-bbd8-b14c34362a88"}],"parameters":[{"name":"Text","value":"orange","namespace":"External"},{"name":"TextToSpeechType","value":"text"},{"name":"Timeout","value":"1"},{"name":"MaxDigits","value":"1"}],"metadata":{"position":{"x":2227,"y":295.5980580054607},"conditionMetadata":[{"id":"7710f03e-98e3-4582-9b7b-b97f9d07a1c5","value":"9"}],"useDynamic":true},"target":"Digits"},{"id":"ff737200-4608-467e-95e6-6d2d5a3f116d","type":"GetUserInput","branches":[{"condition":"Timeout","transition":"025df89c-5036-4627-b7a0-0ba3e999b8c2"},{"condition":"NoMatch","transition":"025df89c-5036-4627-b7a0-0ba3e999b8c2"},{"condition":"Error","transition":"025df89c-5036-4627-b7a0-0ba3e999b8c2"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"9","transition":"e3ef239d-ad61-463e-bbd8-b14c34362a88"}],"parameters":[{"name":"Text","value":"commuter","namespace":"External"},{"name":"TextToSpeechType","value":"text"},{"name":"Timeout","value":"1"},{"name":"MaxDigits","value":"1"}],"metadata":{"position":{"x":1870,"y":726.5980580054606},"conditionMetadata":[{"id":"de0c1c6d-b2c4-47e3-ad4c-a49140724125","value":"9"}],"useDynamic":true},"target":"Digits"},{"id":"43bba9b9-fddb-4fb7-acb2-0575ac413964","type":"GetUserInput","branches":[{"condition":"Timeout","transition":"025df89c-5036-4627-b7a0-0ba3e999b8c2"},{"condition":"NoMatch","transition":"025df89c-5036-4627-b7a0-0ba3e999b8c2"},{"condition":"Error","transition":"025df89c-5036-4627-b7a0-0ba3e999b8c2"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"9","transition":"e3ef239d-ad61-463e-bbd8-b14c34362a88"}],"parameters":[{"name":"Text","value":"blue","namespace":"External"},{"name":"TextToSpeechType","value":"text"},{"name":"Timeout","value":"1"},{"name":"MaxDigits","value":"1"}],"metadata":{"position":{"x":2221,"y":842.8029243487802},"conditionMetadata":[{"id":"63a6617e-41ef-4e8f-b669-de7424979336","value":"9"}],"useDynamic":true},"target":"Digits"},{"id":"93ec5f16-a5cb-49f5-9f1d-fcff0642b856","type":"GetUserInput","branches":[{"condition":"Timeout","transition":"025df89c-5036-4627-b7a0-0ba3e999b8c2"},{"condition":"NoMatch","transition":"025df89c-5036-4627-b7a0-0ba3e999b8c2"},{"condition":"Error","transition":"025df89c-5036-4627-b7a0-0ba3e999b8c2"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"9","transition":"e3ef239d-ad61-463e-bbd8-b14c34362a88"}],"parameters":[{"name":"Text","value":"silver","namespace":"External"},{"name":"TextToSpeechType","value":"text"},{"name":"Timeout","value":"1"},{"name":"MaxDigits","value":"1"}],"metadata":{"position":{"x":1872,"y":443.80292434878015},"conditionMetadata":[{"id":"54c39b67-aab1-4734-a63f-f1a1c1f5dc03","value":"9"}],"useDynamic":true},"target":"Digits"},{"id":"864985be-4aa7-4c5f-ba40-638da53f09d0","type":"CheckAttribute","branches":[{"condition":"Evaluate","conditionType":"Equals","conditionValue":"1","transition":"26e30010-50fb-42df-a6b2-ea51b62c38a5"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"2","transition":"b8839179-7ddc-4e4c-befc-f2b356445738"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"3","transition":"33b1deb0-2bec-40b5-b5e3-502b292e94ba"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"4","transition":"43bba9b9-fddb-4fb7-acb2-0575ac413964"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"5","transition":"93ec5f16-a5cb-49f5-9f1d-fcff0642b856"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"6","transition":"ff737200-4608-467e-95e6-6d2d5a3f116d"},{"condition":"NoMatch","transition":"025df89c-5036-4627-b7a0-0ba3e999b8c2"}],"parameters":[{"name":"Attribute","value":"line_choice"},{"name":"Namespace","value":"User Defined"}],"metadata":{"position":{"x":1567,"y":29.59805800546067},"conditionMetadata":[{"id":"da87217a-68f5-43f6-857d-df8270793c52","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"1"},{"id":"bc2c117b-6db7-49ab-9076-0455d53ad6a3","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"2"},{"id":"43cc7883-d578-41ef-8ad3-964ae2016ea8","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"3"},{"id":"5962f855-0596-41f2-b888-42004e3bfa32","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"4"},{"id":"b43a93ca-74e2-48b5-873c-76a316f2e92c","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"5"},{"id":"1010901f-8596-4e8b-8bf4-a10ec88f7711","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"6"}]}},{"id":"33b1deb0-2bec-40b5-b5e3-502b292e94ba","type":"GetUserInput","branches":[{"condition":"Timeout","transition":"025df89c-5036-4627-b7a0-0ba3e999b8c2"},{"condition":"NoMatch","transition":"025df89c-5036-4627-b7a0-0ba3e999b8c2"},{"condition":"Error","transition":"025df89c-5036-4627-b7a0-0ba3e999b8c2"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"9","transition":"e3ef239d-ad61-463e-bbd8-b14c34362a88"}],"parameters":[{"name":"Text","value":"green","namespace":"External"},{"name":"TextToSpeechType","value":"text"},{"name":"Timeout","value":"1"},{"name":"MaxDigits","value":"1"}],"metadata":{"position":{"x":2227,"y":563.8029243487802},"conditionMetadata":[{"id":"8e93354e-f431-4e4e-994a-bb3da1758bae","value":"9"}],"useDynamic":true},"target":"Digits"},{"id":"e3ef239d-ad61-463e-bbd8-b14c34362a88","type":"Loop","branches":[{"condition":"Looping","transition":"864985be-4aa7-4c5f-ba40-638da53f09d0"},{"condition":"Complete","transition":"025df89c-5036-4627-b7a0-0ba3e999b8c2"}],"parameters":[{"name":"LoopCount","value":"10"}],"metadata":{"position":{"x":1307,"y":704.8029243487802},"useDynamic":false}},{"id":"a93e74a8-355c-4b7c-9e86-a69f889095ce","type":"SetAttributes","branches":[{"condition":"Success","transition":"864985be-4aa7-4c5f-ba40-638da53f09d0"},{"condition":"Error","transition":"025df89c-5036-4627-b7a0-0ba3e999b8c2"}],"parameters":[{"name":"Attribute","value":"line_choice_log$.Attributes.line_choice","key":"line_choice_log","namespace":"User Defined"}],"metadata":{"position":{"x":1261,"y":79.59805800546067}}},{"id":"7ec8cd24-a8a2-44bf-a130-d0d9e33ee010","type":"StoreUserInput","branches":[{"condition":"Success","transition":"7a68c1c0-f93e-4322-afcb-a3ac4057f254"},{"condition":"Error","transition":"51aed40c-bdb7-4046-9022-df97d8f918a7"}],"parameters":[{"name":"Text","value":"Hello, you have reached the MBTA’s elevator and escalator out-of-service update line. his recording is updated in real time.\n\nFor outages affecting the red line, press one.\nFor outages affecting the orange line, press two.\nFor outages affecting the green line, press three.\nFor outages affecting the blue line, press four.\nFor outages affecting the silver line, press five.\nFor outages affecting the commuter rail, press six.\nPress 9 to repeat the previous alerts or 0 to return to the main menu at any time.","namespace":null},{"name":"TextToSpeechType","value":"text"},{"name":"CustomerInputType","value":"Custom"},{"name":"Timeout","value":"6"},{"name":"MaxDigits","value":1},{"name":"EncryptEntry","value":false},{"name":"DisableCancel","value":"false"}],"metadata":{"position":{"x":681,"y":36.59805800546067},"useDynamic":false,"useDynamicForEncryptionKeys":true,"useDynamicForTerminatorDigits":false,"countryCodePrefix":"+1"}},{"id":"51aed40c-bdb7-4046-9022-df97d8f918a7","type":"StoreUserInput","branches":[{"condition":"Success","transition":"7a68c1c0-f93e-4322-afcb-a3ac4057f254"},{"condition":"Error","transition":"025df89c-5036-4627-b7a0-0ba3e999b8c2"}],"parameters":[{"name":"Text","value":"For outages affecting the red line, press one.\nFor outages affecting the orange line, press two.\nFor outages affecting the green line, press three.\nFor outages affecting the blue line, press four.\nFor outages affecting the silver line, press five.\nFor outages affecting the commuter rail, press six.\nPress 9 to repeat the previous alerts or 0 to return to the main menu at any time.","namespace":null},{"name":"TextToSpeechType","value":"text"},{"name":"CustomerInputType","value":"Custom"},{"name":"Timeout","value":"6"},{"name":"MaxDigits","value":1},{"name":"EncryptEntry","value":false},{"name":"DisableCancel","value":"false"}],"metadata":{"position":{"x":763,"y":980.5980580054606},"useDynamic":false,"useDynamicForEncryptionKeys":true,"useDynamicForTerminatorDigits":false,"countryCodePrefix":"+1"}},{"id":"7a68c1c0-f93e-4322-afcb-a3ac4057f254","type":"SetAttributes","branches":[{"condition":"Success","transition":"a93e74a8-355c-4b7c-9e86-a69f889095ce"},{"condition":"Error","transition":"025df89c-5036-4627-b7a0-0ba3e999b8c2"}],"parameters":[{"name":"Attribute","value":"Stored customer input","key":"line_choice","namespace":"System"}],"metadata":{"position":{"x":984,"y":58.59805800546067}}},{"id":"025df89c-5036-4627-b7a0-0ba3e999b8c2","type":"Loop","branches":[{"condition":"Looping","transition":"51aed40c-bdb7-4046-9022-df97d8f918a7"},{"condition":"Complete","transition":"b07e1f8f-a47b-4636-abe9-5d0933c28abd"}],"parameters":[{"name":"LoopCount","value":"10"}],"metadata":{"position":{"x":2362,"y":1288.5980580054606},"useDynamic":false}},{"id":"b07e1f8f-a47b-4636-abe9-5d0933c28abd","type":"PlayPrompt","branches":[{"condition":"Success","transition":"52e502c3-221e-4fad-a4db-9892481f2116"}],"parameters":[{"name":"Text","value":"Thank you for calling. Goodbye.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":320,"y":801},"useDynamic":false}},{"id":"52e502c3-221e-4fad-a4db-9892481f2116","type":"Disconnect","branches":[],"parameters":[],"metadata":{"position":{"x":446,"y":1021}}},{"id":"a4f6b0d8-e03d-43fc-b000-75e52e028b70","type":"Transfer","branches":[{"condition":"Success","transition":"b07e1f8f-a47b-4636-abe9-5d0933c28abd"},{"condition":"CallFailure","transition":"b07e1f8f-a47b-4636-abe9-5d0933c28abd"},{"condition":"Timeout","transition":"b07e1f8f-a47b-4636-abe9-5d0933c28abd"},{"condition":"Error","transition":"b07e1f8f-a47b-4636-abe9-5d0933c28abd"}],"parameters":[{"name":"TimeLimit","value":"30"},{"name":"BlindTransfer","value":false},{"name":"PhoneNumber","value":"+1617-222-3200"}],"metadata":{"position":{"x":405,"y":460},"CountryCode":"us"},"target":"PhoneNumber"},{"id":"88b8dfd5-2a0c-48b9-9004-781705cdd951","type":"CheckAttribute","branches":[{"condition":"Evaluate","conditionType":"Equals","conditionValue":"200","transition":"7ec8cd24-a8a2-44bf-a130-d0d9e33ee010"},{"condition":"NoMatch","transition":"a7e9ad86-446d-4297-bee5-dad34db002a5"}],"parameters":[{"name":"Attribute","value":"status"},{"name":"Namespace","value":"External"}],"metadata":{"position":{"x":420,"y":39.59805800546067},"conditionMetadata":[{"id":"e7dfad5a-8690-464a-ac82-c21e92893304","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"200"}]}},{"id":"378e525e-29ef-471b-b0a1-14b69e61f41e","type":"InvokeExternalResource","branches":[{"condition":"Success","transition":"88b8dfd5-2a0c-48b9-9004-781705cdd951"},{"condition":"Error","transition":"a7e9ad86-446d-4297-bee5-dad34db002a5"}],"parameters":[{"name":"FunctionArn","value":"arn:aws:lambda:us-east-1:434035161053:function:elevator-hotline-dev","namespace":null},{"name":"TimeLimit","value":"3"}],"metadata":{"position":{"x":65,"y":196.59805800546067},"dynamicMetadata":{},"useDynamic":false},"target":"Lambda"},{"id":"a7e9ad86-446d-4297-bee5-dad34db002a5","type":"PlayPrompt","branches":[{"condition":"Success","transition":"a4f6b0d8-e03d-43fc-b000-75e52e028b70"}],"parameters":[{"name":"Text","value":"Hello, you have reached the MBTA’s elevator and escalator out-of-service update line. \n\nWe are currently experiencing some technical difficulties, and are now attempting to transfer you to a representative at number 617-222-3200","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":448,"y":265},"useDynamic":false}}],"version":"1","type":"contactFlow","start":"6c745c27-6c4d-4eb1-87fa-6986c7e785b7","metadata":{"entryPointPosition":{"x":15.500339628716162,"y":27.09805800546067},"snapToGrid":false,"name":"MBTA Elevator Hotline","description":null,"type":"contactFlow","status":"published","hash":"e4de45c0ba401b37bbd3eca2641979367a8a7eb39cabef44a2ad82f0e83e8cee"}}